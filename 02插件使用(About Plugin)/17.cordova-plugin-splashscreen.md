# cordova-plugin-splashscreen

该插件控制启动画面在程序启动时的隐藏和显示。

## 安装
```js
    // npm hosted (new) id
    cordova plugin add cordova-plugin-splashscreen

    // you may also install directly from this repo
    cordova plugin add https://github.com/apache/cordova-plugin-splashscreen.git
```
## 支持平台

- Amazon Fire OS
- Android
- BlackBerry 10
- iOS
- Windows Phone 7 and 8
- Windows 8
- Windows
- Browser

## 参照

#### config.xml

-  __SplashScreen__ (string). 用于启动画面显示的图片资源名称，不同的平台使用的名称。

        <preference name="SplashScreen" value="resourcename" />

-  __AutoHideSplashScreen__ (boolean, 默认值`true`). 指定是否自动隐藏启动画面。启动画面会在`SplashScreenDelay`设置的一段时间以后隐藏

        <preference name="AutoHideSplashScreen" value="true" />

-  __SplashScreenDelay__ (number, 默认值3000). 启动画面持续的时间。

        <preference name="SplashScreenDelay" value="3000" />

### Android 提示

你需要在`config.xml`添加以下配置信息：

    <preference name="SplashScreen" value="foo" />
    <preference name="SplashScreenDelay" value="3000" />
    <preference name="SplashMaintainAspectRatio" value="true|false" />
    <preference name="SplashShowOnlyFirstTime" value="true|false" />
foo是你设置的资源文件名，最好提供9个对应不同尺寸的图片资源，3000是持续时间，再次之前你需要把你的图片放到指定目录，具体可以根据[config.xml](https://github.com/CordovaCn/CordovaCn/blob/master/01%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86(Basic%20Knowledge)/08.Plugin.xml%20Guide(Plugin%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E6%8C%87%E5%8D%97).md)里面提到的<feature name="SplashScreen">部分设置。<br>

"SplashMaintainAspectRatio"是可选参数，如果设置为true，启动图片将不会被拉伸而填充整个屏幕，但是会像CSS的"background-size:cover"那样显示一张图片。这是非常有用的，这会导致启动图片不会因为在不同的屏幕下显示而被扭曲或者拉伸，比如你的启动图片有很重要的文字信息，这些图片有很大的边界，你的信息在不同的横竖屏显示时裁剪图片的时候依然可以被显示。<br>

插件会在横竖切换的时候重新加载启动画面，因此你需要针对不同的朝向指定不同的图片资源。<br>

"SplashShowOnlyFirstTime" preference is also optional and defaults to `true`. When set to `true` splash screen will only appear on application launch. However, if you plan to use `navigator.app.exitApp()` to close application and force splash screen appear on next launch, you should set this property to `false` (this also applies to closing the App with Back button).

### Android and iOS Quirks

- `FadeSplashScreen` (boolean, defaults to `true`): Set to `false` to
  prevent the splash screen from fading in and out when its display
  state changes.

        <preference name="FadeSplashScreen" value="false"/>

- `FadeSplashScreenDuration` (float, defaults to `3000`): Specifies the
  number of milliseconds for the splash screen fade effect to execute.

        <preference name="FadeSplashScreenDuration" value="3000"/>

Note also that this value used to be seconds, and not milliseconds, so values less than 30 will still be treated as seconds. ( Consider this a deprecated patch that will disapear in some future version. )

_Note_: `FadeSplashScreenDuration` is included into `SplashScreenDelay`, for example if you have `<preference name="SplashScreenDelay" value="3000" />` and `<preference name="FadeSplashScreenDuration" value="1000"/>` defined in `config.xml`:

- 00:00 - splashscreen is shown
- 00:02 - fading has started
- 00:03 - splashscreen is hidden

Turning the fading off via `<preference name="FadeSplashScreen" value="false"/>` technically means fading duration to be `0` so that in this example the overall splash delay will still be 3 seconds.

_Note_: This only applies to the app startup - you need to take the fading timeout into account when manually showing/hiding the splashscreen in the code:

```javascript
    navigator.splashscreen.show();
    window.setTimeout(function () {
        navigator.splashscreen.hide();
    }, splashDuration - fadeDuration);
```

### iOS Quirks

- `ShowSplashScreenSpinner` (boolean, defaults to `true`): Set to `false`
  to hide the splash-screen spinner.

        <preference name="ShowSplashScreenSpinner" value="false"/>

## Methods

- splashscreen.show
- splashscreen.hide

## splashscreen.hide

Dismiss the splash screen.

    navigator.splashscreen.hide();


### BlackBerry 10, WP8, iOS Quirk

The `config.xml` file's `AutoHideSplashScreen` setting must be
`false`. To delay hiding the splash screen for two seconds, add a
timer such as the following in the `deviceready` event handler:

        setTimeout(function() {
            navigator.splashscreen.hide();
        }, 2000);

## splashscreen.show

Displays the splash screen.

    navigator.splashscreen.show();


Your application cannot call `navigator.splashscreen.show()` until the app has
started and the `deviceready` event has fired. But since typically the splash
screen is meant to be visible before your app has started, that would seem to
defeat the purpose of the splash screen.  Providing some configuration in
`config.xml` will automatically `show` the splash screen immediately after your
app launch and before it has fully started and received the `deviceready`
event. See [Icons and Splash Screens](http://cordova.apache.org/docs/en/edge/config_ref_images.md.html)
for more information on doing this configuration. For this reason, it is
unlikely you need to call `navigator.splashscreen.show()` to make the splash
screen visible for app startup.
